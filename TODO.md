# TODO 
### 前端
1. ~~添加发布内容的功能（按钮 + 表单）~~
2. 全局的登录状态检测，登录注册界面，和重定向
3. ~~点击用户头像进入用户信息页，可以通过此页向用户发消息，
   点击即可发消息，但是消息记录要保留~~
4. ~~用户个人页面消息一栏~~
5. ~~在线聊天窗口~~
6. 粉丝和关注
7. ~~回复评论，评论时间~~
8. 发布内容的撤销，**删除**，或者设置已结束
9. 聊天消息的管理可以使用一个消息队列来实现
10. 返回上个页面要确保上个页面的数据和滚动条位置正确显示
11. 消息提醒和推送
12. ~~添加 Post 页面表单的 input rules 验证规则~~
13. ~~上传界面重绘~~
14. ~~上传图片数量和文件类型限制~~
15. 用户上传头像功能
16. ~~登录和注册~~、
17. 聊天记录、聊天列表数据交互和状态管理
18. ~~发布post~~
19. 发布二手商品
20. ~~添加评论，回复评论~~
21. 点赞、最热、最新排序从后台拉取数据
22. ~~全局页面切换动画逻辑重制~~
23. ~~用户图片存取服务使用七牛云~~
24. 用户聊天发送图片
25. 添加管理員公告接口
26. post 发布成功后的跳转和提示
27. 登录错误的 message 提示
28. 后端登录拦截器，拦截未登录用户的写操作（暂时只是前端拦截）
29. 重新编辑我的发布


## 优先实现
1. ~~发布不同类型的 post~~
2. ~~不同界面获取不同的 post~~
~~3. 添加评论和删除~~
~~4. 我的发布~~
5. ~~删除我的发布 ~~
   发布内容自动过期
   擦亮（恢复）
   ~~saleItemDetial 页面的后台交互还没写~~
   ~~个人界面~~
   公告
   ~~定时删除~~
~~6. 点赞功能~~
6. 聊天模块
7. 管理员冻结用户，~~删除用户~~,发布公告
~~8. 排序功能~~
9. ~~UI 优化~~
10. 全面测试，压力测试
    ~~懒加载~~
    ~~删除 post 要删除对应图片和评论
    删除用户要删除用户的所有 post~~
    单点登录，强制下线
    redis 缓存
    并发访问问题
    日志 log
    单元测试
    ~~随机头像~~
11. 部署上线
    ~~nginx 反向代理的 cookie 问题~~
    在 sale 页发布内容后 sale 页没有自动刷新(其他页也是没有刷新)
    和服务器交互时加 loading...
    路径 replace 还是 push
    图片上传地方的删除小按钮看不到


Bug
1. ~~服务器端没有用户状态的检测验证，都是靠前端状态来确保的。~~
2. ~~时间问题处理~~
3. UI 点击问题
   UI 图片显示问题(不居中？)
4. 登录验证策略(cookie? session?)
5. 所有页面自动登录
6. 聊天模块
7. 消息提示模块（redis)



# 技术点
1. 图片的上传和显示机制，从自己搭建对象存储服务器 Minio 到使用 七牛云。
2. 全局的页面切换动画
3. 数据结构和架构
4. 前后端分离架构、跨域问题、用户登录状态和 cookies 问题
5. 聊天模块
6. 安全性：密码使用 RSA 密钥算法加密传输；密码 md5 入库；Cookies 设置为 HttpOnly 避免 xss（跨站脚本）攻击, secure:true;只允许 https 传输
7. 用户登录状态管理：1. jwt 生成 token 作为 cookie 免登录，2. 重复登录强制下线前一用户 （关于这里的知识点着重准备）
   日志模块
8. 数据库性能优化
9. 高并发问题
10. 线上部署问题解决
    相机原图过大上传太慢：前端图像压缩，七牛云进行再次压缩
    跨域问题： 1. 产生原因（XXS，CROS 攻击） 2. 过程  3. 方法（前端开发调试跨域方法，部署 nginx 跨域方法，跨域 cookie）
    